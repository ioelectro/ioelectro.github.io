{{HOME-DIR ../..}}
{{UPLOAD-DIR {{HOME-DIR}}/blog/upload/keeloq}}
----------------------------------------
{{PAGE-TITLE دیکد الگوریتم keeloq}}
{{PAGE-DESCRIPTION
ریموت های هاپینگ از الگوریتم keeloq برای رمزگذاری اطلاعات ارسالی استفاده میکنند. ما در این بخش به نحوه رمزگشایی سیگنال دریافتی میپردازیم
و در نهایت یک کد به زبان C برای دیکد کردن الگوریتم ارائه میکنیم.
}}
----------------------------------------
{{POST-TITLE {{PAGE-TITLE}}}}
{{POST-DATE 1402/10/22}}
{{EDIT-TXT [ویرایش]}}
{{EDIT-LINK {{SITE-DEPLOY-LOC}}/blog/keeloq.txt}}
----------------------------------------
{{POST-BODY
<p>
    میدونی وقتی سوئیچ ریموت ماشین رو فشار میدی چه اتفاقی میفته؟
</p>
<p>

    ریموت فرستنده باید یک سیگنال ارسال کنه به ماشین، تا در رو باز کنه، ولی این تازه شروع مشکلاته!<br>
    چون سیگنال فرستنده که فقط به سمت ماشین نمیره، بلکه به همه سمت منتشر میشه و هر کسی میتونی سیگنال رو دریافت کنه ، کپی کنه و دوباره انتشار بده!<br>
    مثل این میمونه که با هر بار فشردن کلید، هزارتا نسخه کپی از سوئیچ ماشین رو تا ۵۰ متر به اطراف پرت میکنی!

</p>
<p>
    در مورد کرکره مغازه ها و دزدگیرهای ارزون ماشین، متاسفانه این مورد واقعیت داره!
    <br>
    ولی در مورد سوئیچ فابریک ماشین، یا دزدگیر های ژاپنی، راهکاری استفاده میشه: <br>
    راهکار به این شکله که هر بار کلید رو عوض کنید! و هر کلید فقط یک بار قابلت استفاده داره!<br>
    اینجاست که رمز‌نگاری به کار میاد!
</p>
<p>
    ایران خودرو هم مثل چند شرکت دیگه میاد از الگوریتم KeeLoq برای رمزگزاری سیگنال بین فرستنده و گیرنده استفاده میکنه.<br>
    این الگوریتم رو شرکت میکروچیپ ابداعش کرده و هم‌الکنون هم تحط لیسانس خودشه!<br>
    به عنوان مثال، آیسی HCS301 یک آیسی ریموت هست که به عنوان فرستنده در ریموت های هاپینگ که از این الگوریتم استفاده میکنند موجوده، مثل بتا ۲۰۱۱ .
</p>
<p>
    گیرنده چی؟<br>
    موضوع اینجاست که جالب میشه!<br>
    هر بار کد دریافت شده متفاوته! رمز شده! چطور دیکد کنیم؟
</p>
<p>
    الگوریتم کی‌لاک نیاز داره که یک کلید ۶۴ بیتی یکسان در فرستنده و گیرنده، پروگرام بشه، تا بتونه به درستی کار کند و دیکد رو انجام بده.
    <br>
    <a href="https://ioelectro.ir/blog/hcs-programmer/" class="link">روش پروگرام کردن کلید ۶۴ بیتی در فرستنده</a> .

</p>
<p>
    حالا نیاز داریم یک کد داشته باشیم که با داشتن کلید ۶۴ بیتی در گیرنده، اطلاعات دریافتی رو با الگوریتم کی‌لاک دیکد کنه.
    <br>
    پیاده سازی  انکد و دیکد کی‌لاک به زبان سی از لینک زیر قابل دریافته:
    <br>
    <a href="https://github.com/liyanboy74/KeeLoq" class="link">https://github.com/liyanboy74/KeeLoq</a>

</p>
<p>
    در هر کدوم از لینک‌ها میتونید اطلاعات کاملتری رو پیدا کنید.
</p>

<h3>پروژه عملی</h3>

<p>
توی این پروژه ما از یک گیرنده رادیویی استاندارد 433 مگاهرتز و برد آرداینو برای دریافت و دیکد اطلاعات استفاده میکنیم. 
</p>
<p>
مطابق شمای زیر مدار را میبندیم و برد آرداینو رو به کامپیوتر متصل میکنیم. 
</p>

<div class="w3-center">
<img class="w3-image w3-round" src="{{UPLOAD-DIR}}/pin-out.jpg">
</div>

<p>
برنامه برد آرداینو رو میتونید 
<a class="link" href="https://github.com/liyanboy74/arduino-rf-rolling-code-keeloq-receiver"> اینجا </a>
پیدا کنید، برنامه رو  
<a class="link" href="https://github.com/liyanboy74/arduino-rf-rolling-code-keeloq-receiver/archive/refs/heads/main.zip"> دانلود </a>
کنید و روی آرداینو پروگرام کنید. 
</p>
<p>
ترمینال سریال برد آرداینو را فعال کنید و مقادیر دریافت شده رو برسی کنید. 
<p>

}}
----------------------------------------
